{% extends 'SonataAdminBundle:CRUD:edit.html.twig' %}

{# override javascript includes #}
{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript">
        $(document).ready(function() {
            // Handler for .ready() called.
            var paymentNode = jQuery('#{{ form.payment.vars.id }}');
            var bankNode = jQuery('#sonata-ba-field-container-{{ form.bankAccountNumber.vars.id }}');
            if (parseInt(paymentNode.val()) !== {{ constant('AppBundle\\Enum\\StudentPaymentEnum::BANK_ACCOUNT_NUMBER') }}) {
                bankNode.addClass("hidden");
            }
            paymentNode.change(function() {
                if (parseInt(jQuery(this).val()) === {{ constant('AppBundle\\Enum\\StudentPaymentEnum::BANK_ACCOUNT_NUMBER') }}) {
                    // bank account
                    bankNode.removeClass("hidden");
                } else {
                    // cash
                    bankNode.addClass("hidden");
                }
            });
        });
    </script>
{% endblock %}
